---

copyright:
  years: 2016, 2018
lastupdated: "2018-07-03"

---

{:new_window: target="\_blank"}
{:shortdesc: .shortdesc}
{:screen:.screen}
{:codeblock:.codeblock}
{:pre: .pre}

# 风险和安全管理
{: #RM_security}

您可以增强安全以实现创建、实施和报告设备连接安全性。利用此增强安全，除了 {{site.data.keyword.iot_short_notm}} 使用的用户标识和令牌之外，还可以使用证书和传输层安全性 (TLS) 认证，来确定设备采取何种方式以及在何处连接平台。

## 证书撤销列表和客户机证书
{: #CRLs}

使用客户机证书来认证设备的配置支持证书撤销列表 (CRL)。指定为 CRL 分发点的位置必须支持 HTTP 或 HTTPS 访问，并且站点必须可访问。如果无法访问 CRL 的分发点，或者 CRL 无效或在分发点找不到 CRL，那么会拒绝客户机连接。 
 

客户机证书必须由在“X509v3 扩展”的“X509v3 密钥用法”部分中指定了“证书签名”的认证中心 (CA) 证书进行签名。要使用 CRL 来撤销客户机证书，用于对客户机证书签名的 CA 证书还必须在“X509v3 扩展”的“X509v3 密钥用法”部分中包含“CRL 签名”。此配置允许 CA 证书在需要时发出 CRL 更新并对其签名。仅使用客户机证书分发点中指定的 CRL 来确定证书是否已撤销。

确保测试证书和 CRL，尤其是在生成自己的证书和 CRL，而不使用来自权威认证中心的证书时，一定要进行测试。


## 配置证书
{: #certificates}

启用证书时，在设备和服务器通信期间，任何设备如果没有在安全设置中配置的有效证书，那么即使使用了有效的用户标识和密码，也都会被拒绝访问。

要为设备配置证书和服务器访问权，系统操作员应将关联的认证中心 (CA) 证书注册到 Watson IoT Platform 平台，还可以选择将消息服务器证书注册到该平台。为了配置设备的客户机证书和服务器访问权，系统操作员会将关联的认证中心 (CA) 证书和消息传递服务器证书导入 {{site.data.keyword.iot_short_notm}} 中。然后，安全分析人员为设备与平台之间的连接配置缺省安全策略。分析人员可以为不同设备类型添加不同的策略。

有关如何配置证书的信息，请参阅[配置证书](set_up_certificates.html)。

## 安全设置
{: #connect_policy}

安全设置（包括使用连接策略设置、CA 证书和消息传递服务器证书）可强制执行设备连接到平台的方式。您可以为所有设备类型设置缺省连接策略，为特定设备类型设置定制设置。可以将策略设置为允许无加密连接，以仅实施传输层安全 (TLS) 连接，以及支持设备通过客户机端证书进行认证。

有关如何配置连接安全策略的信息，请参阅[配置安全策略](set_up_policies.html)。

黑名单和白名单策略提供位置控制功能，允许来自指定位置的设备连接组织帐户。黑名单识别所有被拒绝访问服务器的 IP 地址、CIDR 或国家或地区。白名单授予特定 IP 地址明确的访问权。

有关如何配置黑名单和白名单策略的信息，请参阅[配置黑名单和白名单](set_up_policies.html#config_black_white)。

## 组织计划和安全策略
通过增强的安全策略，组织可以确定它们希望如何使用连接策略以及黑名单和白名单，将设备连接至平台并向平台进行认证。组织可以使用的安全策略选项取决于组织计划类型：

**标准计划：**
- 系统操作员可以使用以下选项配置连接策略：
    - TLS 可选
    - TLS 和令牌认证
    - TLS 和令牌与客户机证书认证

**高级安全计划 (ASP) 或轻量计划：**
- 系统操作员可以使用以下选项配置连接策略：
    - TLS 可选
    - TLS 和令牌认证
    - TLS 和客户机证书认证
    - TLS 和令牌与客户机证书认证
    - TLS 和客户机证书或令牌
- 系统操作员可以配置黑名单或白名单

## 风险和安全管理仪表板和报告
{: #dashboard}

系统操作员和安全分析人员可以使用风险和安全管理仪表板查看整体安全状态。仪表板上的卡可以提供合规性综合概述以及设备的连接状态。

以下仪表板卡可用于分析风险和合规性：
 - **连接安全性合规性** - 显示连接到服务器的设备的合规性级别。
 - **黑名单/白名单合规性** - 基于活动的黑名单或白名单策略显示设备的合规性级别。
 - **整体策略合规性** (Beta) - 基于现成可用的所有策略，显示整体合规性级别。
 - **策略违规** (Beta) - 显示每个策略的整体违规。

**重要信息**：**整体策略合规性**和**策略违规**卡只作为受限 Beta 程序的一部分提供。要启用这些仪表板卡，请在**设置**页面上开启**试验性功能**。

### 向下钻取策略报告 (Beta)
{: #drill_down}

**重要信息**：用于风险管理策略的向下钻取报告功能只作为受限 Beta 程序的一部分提供。要启用向下钻取报告，请在**设置**页面上开启**试验性功能**。

作为 Beta 功能的一部分，系统操作员可以在每个报告中向下钻取，以查看符合策略或违反策略的设备的特定详细信息。

您可以从仪表板卡、从列出所有安全策略的**策略**页面，以及从每个策略的详细信息页面中，访问向下钻取报告。您可以在报告中向下钻取到三个级别的详细信息：
1. 第一个级别会列出所选策略类型中包含的所有策略，例如，缺省连接策略和任何定制连接策略。
2. 第二个级别显示违反策略的设备以及违反策略的原因。
3. 第三个级别显示违反策略的单个设备的特定详细信息。
