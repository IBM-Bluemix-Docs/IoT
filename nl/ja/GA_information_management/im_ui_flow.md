---

copyright:
years: 2016, 2018
lastupdated: "2018-05-14"

---

{:new_window: target="\_blank"}
{:shortdesc: .shortdesc}
{:screen: .screen}
{:codeblock: .codeblock}
{:pre: .pre}

# Web インターフェースを使用したデータ管理の概説
{: #gs_web}

{{site.data.keyword.iot_full}} には、データ管理フィーチャーの一部としてデータを正規化して変換するために役立つオンライン・ツールが用意されています。

## 概説
{: #web_overview}

提供されている [Watson IoT Platform データ管理 API ![外部リンク・アイコン](../../../icons/launch-glyph.svg "外部リンク・アイコン")](https://docs.internetofthings.ibmcloud.com/apis/swagger/v0002/state-mgmt.html){:new_window} に加えて、簡易インターフェース作成機能または拡張インターフェース作成機能を使用して、リソースを構成し、デバイス・データのマッピングを開始することができます。 オンラインのインターフェース作成機能のガイドを活用して、ユーザー・インターフェースの各手順を進めることができます。

物理インターフェースを使用して、物理デバイスと Watson IoT Platform の間のインターフェースをモデル化できます。 イベント・タイプを物理インターフェースに関連付けることができます。 論理インターフェースは、Watson IoT Platform におけるデバイス状態に関する正規化されたビューを定義するために使用され、通常は、アプリケーションによってコンシュームされます。論理インターフェースは、論理インターフェース・スキーマに関連付ける必要があります。 この状態は、インバウンド・デバイス・イベントに応じて更新されます。

データ管理フィーチャーとその利点について詳しくは、[データ管理の概要](../GA_information_management/ga_im_device_twin.html#device_twins)を参照してください。

構成する必要があるリソースについては、[データ管理の解説](../GA_information_management/ga_im_definitions.html#definitions_resource)を参照してください。

簡易インターフェース作成機能を使用して 1 つの物理インターフェースを追加すると、1 つの論理インターフェースが自動的に作成され、これら 2 つがマップされます。拡張インターフェース作成機能を使用すると、構成をより細かく制御できます。 1 つの物理インターフェースと 1 つ以上の論理インターフェースを追加した後、それらのインターフェース間のマッピングを追加します。

これらのインターフェースとマッピングは、ドラフト形式で追加されます。 これらを追加して検証したら、アクティブにする必要があります。 ドラフト・リソースとアクティブ・リソースについて詳しくは、[リソースの作成、更新、アクティブ化、非アクティブ化](../GA_information_management/ga_im_definitions.html#draft_active_resources)を参照してください。

インターフェース・ライブラリーには、再利用可能なテンプレートの物理インターフェースと論理インターフェースが保持されています。

## 大まかな流れ
{: #interface_flow}

以下の手順を使用して、データ管理フィーチャーを使用して開始する必要があるリソースを構成します。

### 始めに

この手順では、登録された接続済みのデバイスが少なくとも 1 つあるデバイス・タイプが存在していることを前提としています。これらの前提条件およびデバイス・タイプの作成方法とデバイスの登録方法の手順について詳しくは、[デバイスの接続](../iotplatform_task.html#iotplatform_task)を参照してください。

### 手順

1. 「簡易インターフェース作成機能」または「拡張インターフェース作成機能」のいずれかを選択します。
  - **簡易インターフェース作成機能のフロー**
    1. [ドラフト物理インターフェースを作成します](#create_physical_interface_simple)。
  - **拡張インターフェース作成機能のフロー**
    1. [ドラフト物理インターフェースを作成します](#create_physical_interface_advanced)。
    2. [1 つ以上のドラフト論理インターフェースを作成します](#create_logical_interface)。 (シンプルなフローを使用した場合、このステップは自動的に完了します。)
    3. [物理インターフェースを各論理インターフェースにマップします](#create_interface_mappings)。
2. [通知設定を行います](#set_notifications)。
3. [構成をアクティブにします](#validate_activate)。

データ管理フィーチャーは API を使用して構成することもできます。 API を使用してデバイス・データの正規化と変換を行うようにデータ管理フィーチャーを構成する方法について詳しくは、[データ管理の概説](ga_im_example.html#im_example)を参照してください。[ステップバイステップ・ガイド: 共通インターフェースによってデバイスを処理する方法を詳細に示す例](../GA_information_management/ga_im_index_scenario.html#scenario)では、種類の異なる複数の温度計デバイスに対応したデバイス・タイプ論理インターフェースを作成するための一連の手順について説明しています。 API の詳細については、[{{site.data.keyword.iot_short_notm}} HTTP REST API ![外部リンク・アイコン](../../../icons/launch-glyph.svg "外部リンク・アイコン")](https://docs.internetofthings.ibmcloud.com/apis/swagger/v0002/state-mgmt.html){:new_window} の資料を参照してください。
{: tip}


## ドラフト物理インターフェースの作成 (シンプルなフロー)
{: #create_physical_interface_simple}

1. メイン・ナビゲーション・メニューで**「デバイス」**をクリックします。
2. **「デバイス・タイプ」**をクリックし、インターフェースを作成するデバイスのタイプを選択します。 新規デバイス・タイプを作成することもできます。 詳しくは、[デバイスの接続](../iotplatform_task.html#iotplatform_task)を参照してください。
3. デバイス・タイプの情報を表示して、**「インターフェース」**をクリックします。
4. **「シンプルなフロー」**をクリックして、簡易インターフェース作成機能を開きます。
5. **「インターフェースの作成」**をクリックします。
6. **「プロパティーの追加」**をクリックして、物理インターフェースへのイベントとプロパティーの追加を開始します。
   a. **「インターフェースにプロパティーを追加」**ウィンドウで、インターフェースに追加する各イベントを選択します。 選択したデバイス・タイプの接続済みデバイスのアクティブ・イベントをシステムが listen します。 最後にキャッシュされたイベントのデバイス ID を選択することも、リストから別のイベントを選択することもできます。
   b. イベントからプロパティーを選択して、**「追加」**をクリックします。
   c. 必要に応じて、プロパティーをさらに追加します。
7. **「完了」**をクリックします。 物理インターフェースが作成されます。 さらに詳細を追加する場合、**「拡張インターフェース作成機能の使用」**リンクを選択して、[拡張インターフェースにアップグレード](#create_physical_interface_advanced)できます。


## ドラフト物理インターフェースの作成 (拡張フロー)
{: #create_physical_interface_advanced}

1. メイン・ナビゲーション・メニューで**「デバイス」**をクリックします。
2. **「デバイス・タイプ」**をクリックし、インターフェースを作成するデバイスのタイプを選択します。 新規デバイス・タイプを作成することもできます。 詳しくは、[デバイスの接続](../iotplatform_task.html#iotplatform_task)を参照してください。
2. デバイス・タイプの情報を表示して、**「インターフェース」**をクリックします。
3. **「拡張フロー (Advanced Flow)」**をクリックして、拡張インターフェース作成機能を開きます。
4. 次のオプションのいずれかを選択してください。
 - 新しい物理インターフェースを作成するには、**「インターフェースの作成」**をクリックします。
 - ライブラリーからインターフェース・テンプレートを使用するには、**「ライブラリーから追加」**をクリックしてインターフェースを選択してから、[ドラフト論理インターフェースの作成](#create_logic_interface)に進みます。
5. **「物理インターフェースの作成」**ページの**「ID」**タブで、物理インターフェースの名前と説明を入力します。
6. オプション: インターフェースでエッジ対応デバイスを使用している場合は、エッジ・スイッチをオンにします。 エッジについて詳しくは、[エッジ分析](../edge_analytics.html#edge_analytics)を参照してください。
7. **「次へ」**をクリックします。
8. イベント・タイプとペイロードを追加および変更することによって、物理インターフェースを定義します。
   a. リストからイベント・タイプを選択して既存のイベント・タイプを変更するか、**「イベント・タイプの作成」**をクリックします。
   b. 最後にキャッシュされたイベントを選択するか、リストからイベントを選択するか、または手動でイベントを追加してから、**「追加 (Add)」**をクリックします。
9. **「完了」**をクリックします。 物理インターフェースがドラフト形式で作成されます。 続いて、1 つ以上の論理インターフェースを追加することができます。

## ドラフト論理インターフェースの作成 (拡張フロー)
{: #create_logical_interface}

1. ドラフト物理インターフェースを作成した後、以下のいずれかのオプションを選択します。
 - **「論理インターフェースの追加」**をクリックして、新しい論理インターフェースを作成します。
 - **「ライブラリーから追加」**をクリックして、インターフェース・ライブラリーからインターフェース・テンプレートを使用します。インターフェースを選択してから、手順 7 に進みます。
2. **「論理インターフェースの作成 (Create Logical Interface)」**ページの**「ID」**タブで、論理インターフェースの名前と説明を入力します。
3. **「次へ」**をクリックします。
4. **「プロパティーの追加」**をクリックして、論理インターフェースのプロパティーの定義を開始します。
5. **「プロパティーの作成 (Create Property)」**ウィンドウで、論理インターフェースに追加する物理インターフェースからプロパティーを選択した後、その変更内容を保存します。
6. **「オブジェクトの追加 (Add Object)」**をクリックします。
7. 必要に応じて論理インターフェースをさらに追加してから、**「次へ」**をクリックします。
8. {: #set_notifications}インターフェース用の通知設定をセットアップします。 次のオプションのいずれかを選択して、デバイス状態の通知を送信するタイミングを決定します。
 - イベント通知機能なし (No Event Notifiers) - 通知は送信されません。 REST API を使用して、デバイス状態の変化の情報を取得できます。
 - 状態の変化時 (On State Change) - デバイス状態が変化したときに通知されます。
 - イベントごと (On Every Event) - プラットフォームで対象のデバイスのイベントを処理するたびに (そのイベントで状態が変化しない場合でも) 通知されます。
8. **「完了」**をクリックします。 インターフェースが作成され、![ドラフト状況アイコン](images/draft_icon.png) によりドラフト状況が示されます。インターフェースの変更またはアクティブ化に進むことができます。

## 構成のアクティブ化
{: #validate_activate}

ドラフト物理インターフェースおよびドラフト論理インターフェースを作成した後、構成をアクティブ化する必要があります。

- **「アクティブ化」**をクリックして、構成をアクティブ化します。構成状況がアクティブ化済みに設定されます。
![アクティブ・デプロイメント](images/active_deployment.png) インターフェースに変更を加えると、インターフェースは再度ドラフトになり、再アクティブ化する必要があります。
