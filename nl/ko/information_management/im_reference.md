---

copyright:
years: 2017, 2018
lastupdated: "2018-03-06"

---

{:new_window: target="\_blank"}
{:shortdesc: .shortdesc}
{:screen: .screen}
{:codeblock: .codeblock}
{:pre: .pre}

# 데이터 관리 참조 정보

다음 참조 정보를 사용하여 {{site.data.keyword.iot_full}}의 데이터 관리 컴포넌트를 사용할 때 적용되는 제한사항에 대해 알아볼 수 있습니다.  

## 스키마 제한사항

다음 유형의 스키마가 데이터 관리에 사용됩니다.
- 이벤트 유형 스키마
- 논리 인터페이스 스키마
- 사물 유형 스키마

다음 표에는 각 스키마 유형에 적용되는 제한사항이 나열되어 있습니다. 

스키마 유형|제한조건
------------------- | -------------
모두| 모든 스키마는 유효한 JSON을 준수해야 합니다. 
모두| 모든 스키마는 유효한 JSON 스키마를 준수해야 합니다. 
모두|모든 스키마의 루트는 "오브젝트" 유형이어야 합니다. 
모두| 모든 스키마에 최대 7개의 중첩 레벨이 있습니다 .
논리 인터페이스        |필수로 지정된 모든 특성에는 기본값이 정의되어 있어야 합니다. 
논리 인터페이스     | 오브젝트가 스키마에 정의된 경우에는 최소한 하나의 특성이 해당 오브젝트에 대해 정의되 있어야 합니다. 
논리 인터페이스 |배열이 스키마에 정의된 경우에는 연관된 항목이 오직 하나의 유형이어야 합니다(예: 오직 "문자열" 유형). 
사물 유형        |최상위 레벨 특성만 허용됩니다. 첫 번째 레벨을 벗어나는 중첩은 허용되지 않습니다. 
사물 유형        |최상위 레벨 특성은 "오브젝트" 유형이어야 합니다. 
사물 유형        |최상위 레벨 특성은 $logicalInterfaceRef 및 유형을 참조해야 합니다. $logicalInterfaceRef 값은 논리 인터페이스의 ID 또는 별명입니다. 유형은 "오브젝트" 또는 "배열"로 설정되어야 합니다. 

## 올바른 스키마와 올바르지 않은 스키마의 예

### 예 1 - 올바른 논리 인터페이스 스키마 정의
다음 예제는 "스키마 제한사항" 섹션에 간략하게 설명된 제한조건을 준수하는 논리 인터페이스 스키마를 정의합니다.

  - 스키마가 올바른 JSON 및 올바른 JSON 스키마를 준수합니다. 
  - 스키마가 "오브젝트" 유형입니다. 
  - 스키마에 7개 미만의 중첩 레벨이 있습니다.  
  - 스키마에 대해 2개의 특성이 정의되어 있습니다. 
  - 필수 특성 **a** 및 **b**에는 기본값이 지정되어 있습니다. 

```
{
 "type": "object",
 "properties":{
    "a":{
       "type":"string"
    },
    "b":{
       "type": "number"
      }
  },
  "default":{"a":"HelloWorld", "b":2},
  "required": ["a", "b"]
}
```


### 예 2 - 올바르지 않은 논리 인터페이스 스키마 정의
다음 예는 올바르지 않은 논리 인터페이스 스키마를 보여줍니다. 배열이 "문자열" 유형이나 "번호" 유형의 항목을 포함하도록 정의되었으므로 스키마가 올바르지 않습니다. 배열이 스키마에 정의된 경우에는 연관된 항목이 오직 하나의 유형이어야 합니다(예: "문자열"). 

```
{
 "type": "object",
 "properties":{
    "a":{
       "type":"array",
       "items":{
          "type": ["string", "number"]
       }
    }
  }
}
```
### 예 3 - 올바른 사물 유형 스키마 정의
다음 예제는 "스키마 제한사항" 섹션에 간략하게 설명된 제한조건을 준수하는 사물 유형 스키마를 정의합니다. 

  - 스키마가 올바른 JSON 및 올바른 JSON 스키마를 준수합니다. 
  - 스키마가 "오브젝트" 유형입니다. 
  - 스키마에 7개 미만의 중첩 레벨이 있습니다.  
  - 스키마가 오직 최상위 레벨 특성만 정의합니다.  
  - 최상위 레벨 특성은 "배열" 또는 "오브젝트"로 설정된 유형 및 $logicalInterfaceRef를 참조합니다. "배열" 유형은 디바이스 또는 사물의 수를 집계하는 데 사용될 수 있습니다(예: 온도 센서의 수). "오브젝트" 유형은 단일 디바이스 또는 사물을 참조하는 데 사용될 수 있습니다(예: 단일 습도 센서).    
  - 필수 특성은 기본값의 지정이 필요하지 않습니다. 이 제한조건은 논리 인터페이스 스키마에만 적용됩니다. 이 스키마 유형에서는 기본값을 지정할 수 없습니다. 

```
{
   "type" : "object",
   "properties" : {
       "temperatureSensors": {
           "description": "Aggregated temperature sensors",
           "$logicalInterfaceRef": "IThermometer",
           "type" : "array"
       },
       "humiditySensor": {
           "description": "The humidity sensor device",
           "$logicalInterfaceRef": "5846cd7c6522050001db0e24"
            "type" : "object"
       }
   },
   "required" : [
       "temperatureSensors",
       "humiditySensor"
   ]
  }
```
